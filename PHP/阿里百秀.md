# 项目简介

阿里百秀，内容管理系统，分为内容管理和内容展示两大核心功能。

## 1.功能模块

### 1.1内容管理

| 模块     | 功能                          |
| -------- | ----------------------------- |
| 用户     | 登录，退出，用户增删改查      |
| 文章     | 文章管理                      |
| 分类     | 分类管理                      |
| 评论     | 评论管理                      |
| 网站设置 | 关键字，描述，网站logo,轮播图 |

## 2.开发模式

### 2.1 前后端混合开发模式

所有HTML 代码和数据在服务器拼接好，一次性将所有内容发送到客户端，浏览器执行代码，将内容呈现给用户

问题：

​	1.前后端开发人员对互相代码都不是特别熟悉，混合开发两者在处理相互的代码时非常困难

​	2.在开发的过程中难免会出现代码相互覆盖，导致工作量倍增

## 2.2 前后端分离开发模式

好处：职责，分工明确,独立开发，互不影响。

## 3.项目架构

| 系统分层 | 使用技术                                   |
| -------- | ------------------------------------------ |
| 数据层   | mongoDB                                    |
| 服务层   | node.js (express)                          |
| 客户端   | art-template ， jQuery ,font-awesome,swipe |

## 4.项目运行环境搭建

1.安装node.js 软件并测试是否安装成功

2.安装 mongodb、mongodb-compass 软件

3.将阿里百秀文件夹复制到硬盘中

4.在命令行工具由进入到项目目录中

5.使用 npm install 命令安装项目所需依赖文件

6.将阿里百秀静态页面复制到public 文件夹中

7.在命令行工具中输入node app.js 开启项目

## 登录功能

1. 为登录按钮添加点击事件
2. 获取用户在文本框中输入的用户名合密码
3. 验证用户是否输入了用户合密码，如果没有输入，阻止程序向下执行，提示用户输出用户名合密码
4. 调用实现登录功能的接口，登录成功。跳转到数据管理的页面，登录失败，提示用户名或者密码错误

## 登录拦截

1. 使用script 标签加载服务器端提供的接口地址
2. 判断isLogin变量的值，如果值为false,跳转到登陆页面

## 添加用户

1. 为添加用户功能的每一个表单添加name属性，且name属性值需要和接口文档中要求的参数称保持一致
2. 为表单绑定提交事件，在事件处理函数中阻止表单默认提交的行为
3. 在事件处理函数中获取到用户在表单中输入的内容
4. 调用添加用户接口，将获取的内容通过接口发送服务器端，操作成功页面，操作失败给出用户提示





## 接口

1.1 创建用户

1.2 用户登录

| 请求地址 | 请求方式 |
| -------- | -------- |
| /login   | POST     |

| 参数名称 | 是否必选 | 参数说明 |
| -------- | -------- | -------- |
| email    | 是       | 邮箱地址 |
| password | 是       | 登录密码 |

1.3退出登录

| 请求地址 | 请求方式 |
| -------- | -------- |
| /logout  | PSOT     |
|          |          |

```json
{
	message:"退出成功"

}
```

1.4 操作用户

1.4.1 获取用户登录状态

| 请求地址      | 请求 |
| ------------- | ---- |
| /login/status | GET  |

```js
var isLogin = true
```

```
<div class="form-group">
   <div class="col-sm-4 control-label">选择文件</div>
   <div class="col-sm-6">
       <div class="input-group">
       <input id='location' class="form-control" onclick="$('#i-file').click();">
           <label class="input-group-btn">
               <input type="button" id="i-check" value="浏览文件" class="btn btn-primary" onclick="$('#i-file').click();">
           </label>
       </div>
   </div>
   <input type="file" name="file" id='i-file'  accept=".xls, .xlsx" onchange="$('#location').val($('#i-file').val());" style="display: none">
</div>

```

