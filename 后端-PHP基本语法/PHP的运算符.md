---
title: PHP的运算符
date: 2019-12-07 17:39:58
categories: PHP
tags:
- PHP	
---

​	运算符是用来对变量、常量或数据进行计算的符号，它对一个值或一组值执行一个指定的操 作。PHP的运算符包括算术运算符、字符串运算符、赋值运算符、位运算符、逻辑运算符、比较 运算符、递增或递减运算符、错误控制运算符，这里只介绍一些常用的运算符<!-- more -->

## 1.算术运算符 

​	算术运算（Arithmetic Operators）符号是处理四则运算的符号。在数字的处理中应 用得最多。常用的算术运算符如下表所示：

| 名称       | 操作符 | 举例       |
| ---------- | ------ | ---------- |
| 加法运算   | +      | $a + $b    |
| 减法运算   | -      | $a-$b      |
| 乘法运算   | *      | $a * $b    |
| 除法运算   | /      | $a / $b    |
| 取余数运算 | %      | $a % $b    |
| 递增运算   | ++     | $a++、++$a |
| 递减运算   | --     | $a--、--$a |

```php
//加减乘除取余
<?php 
$x=10; 
$y=6;
echo ($x + $y); // 输出16
echo '<br>';  // 换行
 
echo ($x - $y); // 输出4
echo '<br>';  // 换行
 
echo ($x * $y); // 输出60
echo '<br>';  // 换行
 
echo ($x / $y); // 输出1.6666666666667
echo '<br>';  // 换行
 
echo ($x % $y); // 输出4
echo '<br>';  // 换行
 
echo -$x;
?>
    
<?php
$x=10; 
echo ++$x; // 输出11
$y=10; 
echo $y++; // 输出10
$z=5;
echo --$z; // 输出4
$i=5;
echo $i--; // 输出5
?>    
```

**关于上表说明**： 

（1）在算术运算符中使用%求余，如果被除数（$a）是负数，那么取得的结果也是一个负值。 

（2）最后两个递增/递减运算符，主要是对单独一个变量来操作的。**递增/递减运算符有两种使用方法：**

-  一种是先将变量增加或者减少1，然后再将值赋给原变量，称为前置递增或递减运算符； 
- 另一种是将运算符放在变量后面，即先返回变量的当前值，然后再将变量的当前值增加或 者减少1，称为后置递增或递减运算符

## 2.字符串运算符

**字符串运算符概述**：字符串运算符<span style="color:#e67e22;">只有一个</span>，即英文的句号“**.**”。它将两个字符串连接起来，结合成一个新的字符串。<span  style="color:#e67e22;">使用过C或Java的读者应注意，这里的“+”号只用作赋值运算符使用， 而不能用作字符串运算符</span>

```php
<?php
$a = "Hello";
$b = $a . " world!";
echo $b; // 输出Hello world! 
 
$x="Hello";
$x .= " world!";
echo $x; // 输出Hello world! 
?>
```



## 3.赋值运算符

​	赋值运算符是把基本赋值运算符“=”右边的值赋给左边的变量或者常量。在PHP中的赋值 运算符如下表所示

| 操作     | 符号 | 举例  | 展开形式   | 意义                   |
| -------- | ---- | ----- | ---------- | ---------------------- |
| 赋值     | =    | $a=3  | $a=3       | 将右边的值赋给左边     |
| 加       | +=   | $a+=3 | $a=$a+3    | 将右边的值加到左边     |
| 减       | -=   | $a-=3 | $a= $a - 3 | 将右边的值减到左边     |
| 乘       | *=   | $a*=3 | $a = $a *3 | 将左边的值乘以右边     |
| 除       | /=   | $a/=3 | $a = $a/3  | 将左边的值除以右边     |
| 连接字符 | .=   | $a.=3 | $a .=3     | 将右边的字符加到左边   |
| 取余     | %=   | $a%=3 | $a%=3      | 将左边的值对右边取余数 |

```php
<?php 
$x=10; 
echo $x; // 输出10
 
$y=20; 
$y += 100;
echo $y; // 输出120
 
$z=50;
$z -= 25;
echo $z; // 输出25
 
$i=5;
$i *= 6;
echo $i; // 输出30
 
$j=10;
$j /= 5;
echo $j; // 输出2
 
$k=15;
$k %= 4;
echo $k; // 输出3
?>
```



## 4.位运算符

​     位逻辑运算符是指对二进制位从低位到高位对齐后进行运算。在PHP中的位运算符如下表所示：

| 符号 | 作用     | 举例     |
| ---- | -------- | -------- |
| &    | 按位与   | $m & $n  |
| \|   | 按位或   | $m \| $n |
| ^    | 按位异或 | $m ^ $n  |
| ～   | 按位取反 | $m～$n   |
| <<   | 向左移位 | $m << $n |
| >>   | 向右移位 | $m >> $n |

## 5.逻辑运算符

​	逻辑运算符用来组合逻辑运算的结果，是程序设计中一组非常重要的运算符。PHP的逻辑运 算符如下表所示：

| 运  算  符        | 举    例   | 结 果 为 真          |
| ----------------- | ---------- | -------------------- |
| &&或and（逻辑与） | $m and $n  | 当$m和$n都为真时     |
| \|\|或or(逻辑或)  | $m \|\| $n | 当$m为真或者$n为真时 |
| xor（逻辑异或)    | $m xor $n  | 当$m、$n一真一假时   |
| !(逻辑非)         | !$m        | 当$m为假时           |

​	在逻辑运算符中，逻辑与和逻辑或这两个运算符有4种运算符号（&&、and、||和or），其中属于同一个逻辑结构的两个运算符号（例如&&和and）之间却有着不同的优先级。 

## 6.比较运算符 

​	比较运算符就是对变量或表达式的结果进行大小、真假等比较，如果比较结果为真，则返回 true，如果为假，则返回false。PHP中的比较运算符如下表所示:

| 运算符 | 说明     | 举例       |
| ------ | -------- | ---------- |
| <      | 小于     | $m<$n      |
| >      | 大于     | $m>$n      |
| <=     | 小于等于 | $m<=$n     |
| >=     | 大于等于 | $m>=$n     |
| = =    | 相等     | $m= =$n    |
| !=     | 不等     | $m!=$n     |
| = = =  | 恒等     | $m= = = $n |
| !==    | 非恒等   | $m!==$n    |

**关于上表的说明**：其中，不太常见的就是= = =和!= =。$a = = = $b，说明$a和$b不只是数值 上相等，而且两者的类型也一样。!= =和= = =的意义相近，$a != = $b 就是说$a和$b或 者数值不等，或者类型不等.

```php
<?php
$x=100; 
$y="100";
 
var_dump($x == $y);
echo "<br>";
var_dump($x === $y);
echo "<br>";
var_dump($x != $y);
echo "<br>";
var_dump($x !== $y);
echo "<br>";
 
$a=50;
$b=90;
 
var_dump($a > $b);
echo "<br>";
var_dump($a < $b);
?>
```

## 7.错误控制运算符

​	@错误屏蔽运算符可以对程序中出现错误的表达式进行操作，进而对错误信息进行屏蔽，其使 用的方法就是在<span style="color:#e67e22;">错误的表达式前加上@即可</span>。        

​	@只是对错误信息进行屏蔽，并没有真正解决错误。经常在程序中使用的某些函数出现一些不必要（不影响程序运行的错误）的错误信息时，使用 该运算符进行屏蔽。针对程序中的一些影响程序运行的错误，使用它不是解决问题的根本办法，<span style="color:#e67e22;">不推荐使用</span>.

下面了解一下该运算符的使用方法。在进行数学计算时会发生一些错误，例如： 

```php
<?php $err = 5 / 0; ?> 
```

这时屏幕上会显示错误消息：Warning: Division by zero in ……\index.php on line 9 如果不想显示这个错误，就可以在表达式前加上@，实现代码如下： 

```php
<?php $err = @(5 / 0); ?>
```

这样，输出时就什么错误都不显示。当然，错误依然存在，只是看不到而已

## 8.三元运算符 

​	三元运算符（?:），也称为三目运算符，用于 根据一个表达式在另两个表达式中选择一个，而 不是用来在两个语句或者程序中选择。三元运算 符最好放在括号里使用。 

```php
//语法： (expr1) ? (expr2) : (expr3)
<?php
$test = '云空';
// 普通写法
$username = isset($test) ? $test : 'nobody';
echo $username, PHP_EOL;
 
// PHP 5.3+ 版本写法
$username = $test ?: 'nobody';
echo $username, PHP_EOL;
?>
```

<span style="color:red">注意</span>：PHP_EOL 是一个换行符，兼容更大平台。

​	在 PHP7+ 版本多了一个 NULL 合并运算符 **??**

```php
//通过判断 $_GET 请求中含有 user 值，如果有返回 $_GET['user']，否则返回 nobody
<?php
// 如果 $_GET['user'] 不存在返回 'nobody'，否则返回 $_GET['user'] 的值
$username = $_GET['user'] ?? 'nobody';
// 类似的三元运算符
$username = isset($_GET['user']) ? $_GET['user'] : 'nobody';
?>
```

## 9.运算符的优先顺序和结合规则 

​     所谓运算符的优先级，是指在应用中哪一个运算符先计算，哪一个后计算，与数学的四则运算 遵循的“先乘除，后加减”是一个道理。

​	PHP的运算符在<span style="color:#e67e22;">运算中遵循的规则</span>是：<span style="color:#e67e22;">优先级高的运算先执行</span>，优先级低的操作后执行，<span style="color:#e67e22;">同一 优先级的操作按照从左到右的顺序进行</span>。也可以像四则运算那样使用小括号，括号内的运算最先进 行。PHP运算符优先级如下表所示： 

| 优先级别 | 运算符                        |
| -------- | ----------------------------- |
| 1        | or，and，xor                  |
| 2        | =                             |
| 3        | \|\|、&&                      |
| 4        | \|,^                          |
| 5        | &，.                          |
| 6        | +，-（递增或递减运算符）      |
| 7        | /，*，%                       |
| 8        | <<，>>                        |
| 9        | ++，--                        |
| 10       | +，-（正、负号运算符），!，～ |
| 11       | = =，!=，<>                   |
| 12       | <，<=，>，>=  13              |
| 13       | ?：                           |
| 14       | －>                           |
| 15       | =>                            |

​	这么多的级别，如果想都记住是不太现实的，也没有必要。如果写的表达式真的很复杂，而 且包含了较多的运算符，不妨多使用括号，例如:

```php
<?php $a and (($b != $c) or (5 * (50 – $d))) ?> 
```

这样就会减少出现逻辑错误的可能